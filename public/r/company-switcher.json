{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "company-switcher",
  "title": "Company Switcher",
  "description": "A company switcher component for sidebar navigation.",
  "registryDependencies": ["dropdown-menu", "sidebar"],
  "files": [
    {
      "path": "registry/helisa/ui/company-switcher.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { ChevronsUpDown, Plus } from \"lucide-react\";\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  useSidebar,\n} from \"@/components/ui/sidebar\";\n\ninterface CompanySwitcherProps {\n  companies: {\n    name: string;\n    logo: React.ElementType;\n    id: string;\n  }[];\n  onSelected: (companyId: string) => void;\n  enableCreate?: boolean;\n  onCreate?: () => void;\n  defaultCompanyId?: string;\n}\n\nexport function CompanySwitcher({\n  companies,\n  enableCreate,\n  onCreate,\n  onSelected,\n  defaultCompanyId,\n}: CompanySwitcherProps) {\n  const { isMobile } = useSidebar();\n  const [activeCompany, setActiveCompany] = React.useState(\n    companies.find((c) => c.id === defaultCompanyId) || companies[0],\n  );\n\n  if (!activeCompany) {\n    return null;\n  }\n\n  const handleCreate = () => {\n    if (onCreate) {\n      onCreate();\n    }\n  };\n\n  const handleSelect = (companyId: string) => {\n    onSelected(companyId);\n  };\n\n  return (\n    <SidebarMenu>\n      <SidebarMenuItem>\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <SidebarMenuButton\n              size=\"lg\"\n              className=\"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground\"\n            >\n              <div className=\"bg-sidebar-primary text-sidebar-primary-foreground flex aspect-square size-8 items-center justify-center rounded-lg\">\n                <activeCompany.logo className=\"size-4\" />\n              </div>\n              <div className=\"grid flex-1 text-left text-sm leading-tight\">\n                <span className=\"truncate font-medium\">\n                  {activeCompany.name}\n                </span>\n              </div>\n              <ChevronsUpDown className=\"ml-auto\" />\n            </SidebarMenuButton>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent\n            className=\"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg\"\n            align=\"start\"\n            side={isMobile ? \"bottom\" : \"right\"}\n            sideOffset={4}\n          >\n            <DropdownMenuLabel className=\"text-muted-foreground text-xs\">\n              Empresas\n            </DropdownMenuLabel>\n            {companies.map((company) => (\n              <DropdownMenuItem\n                key={company.name}\n                onClick={() => {\n                  setActiveCompany(company);\n                  handleSelect(company.id);\n                }}\n                className=\"gap-2 p-2\"\n              >\n                <div className=\"flex size-6 items-center justify-center rounded-md border\">\n                  <company.logo className=\"size-3.5 shrink-0\" />\n                </div>\n                {company.name}\n              </DropdownMenuItem>\n            ))}\n            {enableCreate && (\n              <>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem className=\"gap-2 p-2\" onClick={handleCreate}>\n                  <div className=\"flex size-6 items-center justify-center rounded-md border bg-transparent\">\n                    <Plus className=\"size-4\" />\n                  </div>\n                  <div className=\"text-muted-foreground font-medium\">\n                    Crear Empresa\n                  </div>\n                </DropdownMenuItem>\n              </>\n            )}\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </SidebarMenuItem>\n    </SidebarMenu>\n  );\n}\n",
      "type": "registry:ui",
      "target": "components/helisa/ui/company-switcher.tsx"
    }
  ],
  "type": "registry:ui"
}
