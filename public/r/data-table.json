{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "data-table",
  "title": "Data Table",
  "description": "A versatile data table component with features like sorting, filtering, pagination, and row selection.",
  "dependencies": [
    "@tanstack/react-table",
    "lucide-react",
    "@radix-ui/react-checkbox"
  ],
  "registryDependencies": ["button", "checkbox", "select"],
  "files": [
    {
      "path": "registry/helisa/components/data-table/data-table.tsx",
      "content": "import {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\n\nimport {\n  ColumnDef,\n  PaginationState,\n  Updater,\n  flexRender,\n  getCoreRowModel,\n  useReactTable,\n} from \"@tanstack/react-table\";\nimport { Fragment, ReactNode, useState } from \"react\";\n\nimport { DataTableCursorPagination } from \"./data-table-cursor-pagination\";\nimport { DataTablePagination } from \"./data-table-pagination\";\n\ninterface CursorPaginationConfig {\n  hasNext: boolean;\n  hasPrevious: boolean;\n}\n\ninterface DataTableProps<TData, TValue> {\n  columns: ColumnDef<TData, TValue>[];\n  data: TData[];\n  /**\n   * setPagination of useState\n   */\n  onPaginationChange?: (pagination: Updater<PaginationState>) => void;\n  rowCount?: number;\n  pagination?: PaginationState;\n  renderExpandedRow?: (row: TData) => ReactNode;\n  isRowExpanded?: (row: TData) => boolean;\n  getRowId?: (row: TData) => string;\n  // Cursor pagination props\n  useCursorPagination?: boolean;\n  cursorPagination?: CursorPaginationConfig;\n  onCursorNavigate?: (direction: \"next\" | \"previous\") => void;\n  onPageSizeChange?: (pageSize: number) => void;\n  //\n  pageSize?: number;\n  pageSizeOptions?: number[];\n}\n\nexport function DataTable<TData, TValue>({\n  columns,\n  data,\n  rowCount,\n  pagination,\n  onPaginationChange,\n  renderExpandedRow,\n  isRowExpanded,\n  getRowId,\n  useCursorPagination = false,\n  cursorPagination,\n  onCursorNavigate,\n  pageSize,\n  pageSizeOptions,\n  onPageSizeChange,\n}: DataTableProps<TData, TValue>) {\n  const [rowSelection, setRowSelection] = useState({});\n\n  const table = useReactTable({\n    data,\n    columns,\n    getCoreRowModel: getCoreRowModel(),\n    manualPagination: true,\n    manualSorting: true,\n    manualFiltering: true,\n    rowCount: rowCount || data.length,\n    onPaginationChange: onPaginationChange,\n    onRowSelectionChange: setRowSelection,\n    state: {\n      pagination: pagination || {\n        pageIndex: 0,\n        pageSize: 10,\n      },\n      rowSelection,\n    },\n  });\n\n  return (\n    <div className=\"rounded-md border\" data-test-id=\"data-table\">\n      <Table>\n        <TableHeader>\n          {table.getHeaderGroups().map((headerGroup) => (\n            <TableRow key={headerGroup.id}>\n              {headerGroup.headers.map((header) => {\n                return (\n                  <TableHead key={header.id} className=\"font-medium\">\n                    {header.isPlaceholder\n                      ? null\n                      : flexRender(\n                          header.column.columnDef.header,\n                          header.getContext(),\n                        )}\n                  </TableHead>\n                );\n              })}\n            </TableRow>\n          ))}\n        </TableHeader>\n        <TableBody>\n          {table.getRowModel().rows?.length ? (\n            table.getRowModel().rows.map((row) => {\n              const isExpanded = isRowExpanded\n                ? isRowExpanded(row.original)\n                : false;\n              const rowId = getRowId ? getRowId(row.original) : row.id;\n\n              return (\n                <Fragment key={rowId}>\n                  <TableRow data-state={row.getIsSelected() && \"selected\"}>\n                    {row.getVisibleCells().map((cell) => (\n                      <TableCell key={cell.id}>\n                        {flexRender(\n                          cell.column.columnDef.cell,\n                          cell.getContext(),\n                        )}\n                      </TableCell>\n                    ))}\n                  </TableRow>\n                  {isExpanded && renderExpandedRow && (\n                    <TableRow>\n                      <TableCell colSpan={columns.length}>\n                        {renderExpandedRow(row.original)}\n                      </TableCell>\n                    </TableRow>\n                  )}\n                </Fragment>\n              );\n            })\n          ) : (\n            <TableRow>\n              <TableCell colSpan={columns.length} className=\"h-24 text-center\">\n                Sin Resultados.\n              </TableCell>\n            </TableRow>\n          )}\n        </TableBody>\n      </Table>\n      {useCursorPagination && cursorPagination && onCursorNavigate ? (\n        <div className=\"flex items-center justify-between px-2 mt-4 mb-4 w-full\">\n          <DataTableCursorPagination\n            pagination={cursorPagination}\n            onNavigate={onCursorNavigate}\n            pageSize={pageSize}\n            pageSizeOptions={pageSizeOptions}\n            onPageSizeChange={onPageSizeChange}\n          />\n        </div>\n      ) : (\n        pagination && (\n          <div className=\"flex items-center justify-between px-2 mt-4 mb-4 w-full\">\n            <DataTablePagination\n              table={table}\n              pageSizeOptions={pageSizeOptions}\n            />\n          </div>\n        )\n      )}\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/helisa/components/data-table/data-table.tsx"
    },
    {
      "path": "registry/helisa/components/data-table/data-table-pagination.tsx",
      "content": "import { Button } from \"@/components/ui/button\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\n\nimport { Table } from \"@tanstack/react-table\";\nimport {\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  ChevronsLeftIcon,\n  ChevronsRight,\n} from \"lucide-react\";\n\ninterface DataTablePaginationProps<TData> {\n  table: Table<TData>;\n  pageSizeOptions?: number[];\n}\n\nexport function DataTablePagination<TData>({\n  table,\n  pageSizeOptions,\n}: DataTablePaginationProps<TData>) {\n  return (\n    <div className=\"w-full flex items-center justify-between px-2\">\n      {table.getFilteredSelectedRowModel().rows.length > 0 && (\n        <div className=\"flex-1 text-sm text-muted-foreground\">\n          {table.getFilteredSelectedRowModel().rows.length} de{\" \"}\n          {table.getFilteredRowModel().rows.length} Fila(s) Seleccionada(s).\n        </div>\n      )}\n      <div className=\"flex items-center space-x-6 lg:space-x-8\">\n        <div className=\"flex items-center space-x-2\">\n          <p className=\"text-sm font-medium\">Registros por pagina</p>\n          <Select\n            value={`${table.getState().pagination.pageSize}`}\n            onValueChange={(value) => {\n              table.setPageSize(Number(value));\n            }}\n          >\n            <SelectTrigger\n              className=\"h-8 w-[70px]\"\n              data-test-id=\"page-size-select\"\n            >\n              <SelectValue placeholder={table.getState().pagination.pageSize} />\n            </SelectTrigger>\n            <SelectContent side=\"top\">\n              {(pageSizeOptions && pageSizeOptions.length > 0\n                ? pageSizeOptions\n                : [5, 10, 20, 30, 40]\n              ).map((pageSize) => (\n                <SelectItem key={pageSize} value={`${pageSize}`}>\n                  {pageSize}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n        <div className=\"flex w-[100px] items-center justify-center text-sm font-medium\">\n          Pagina {table.getState().pagination.pageIndex + 1} de{\" \"}\n          {table.getPageCount()}\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <Button\n            variant=\"outline\"\n            className=\"hidden h-8 w-8 p-0 lg:flex\"\n            onClick={() => table.setPageIndex(0)}\n            disabled={!table.getCanPreviousPage()}\n            data-test-id=\"first-page-button\"\n          >\n            <span className=\"sr-only\">Go to first page</span>\n            <ChevronsLeftIcon className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            variant=\"outline\"\n            className=\"h-8 w-8 p-0\"\n            onClick={() => table.previousPage()}\n            disabled={!table.getCanPreviousPage()}\n            data-test-id=\"previous-page-button\"\n          >\n            <span className=\"sr-only\">Go to previous page</span>\n            <ChevronLeftIcon className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            variant=\"outline\"\n            className=\"h-8 w-8 p-0\"\n            onClick={() => table.nextPage()}\n            disabled={!table.getCanNextPage()}\n            data-test-id=\"next-page-button\"\n          >\n            <span className=\"sr-only\">Go to next page</span>\n            <ChevronRightIcon className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            variant=\"outline\"\n            className=\"hidden h-8 w-8 p-0 lg:flex\"\n            onClick={() => table.setPageIndex(table.getPageCount() - 1)}\n            disabled={!table.getCanNextPage()}\n            data-test-id=\"last-page-button\"\n          >\n            <span className=\"sr-only\">Go to last page</span>\n            <ChevronsRight className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/helisa/components/data-table/data-table-pagination.tsx"
    },
    {
      "path": "registry/helisa/components/data-table/data-table-cursor-pagination.tsx",
      "content": "import { Button } from \"@/components/ui/button\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\n\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\n\ninterface CursorPaginationConfig {\n  hasNext: boolean;\n  hasPrevious: boolean;\n}\n\ninterface DataTableCursorPaginationProps {\n  pagination: CursorPaginationConfig;\n  onNavigate: (direction: \"next\" | \"previous\") => void;\n  pageSize?: number;\n  pageSizeOptions?: number[];\n  onPageSizeChange?: (pageSize: number) => void;\n}\n\nexport function DataTableCursorPagination({\n  pagination,\n  onNavigate,\n  pageSize,\n  pageSizeOptions = [5, 10, 20, 30, 40],\n  onPageSizeChange,\n}: DataTableCursorPaginationProps) {\n  return (\n    <div className=\"w-full flex items-center justify-between px-2\">\n      <div className=\"flex items-center space-x-6 lg:space-x-8\">\n        {pageSize !== undefined && onPageSizeChange && (\n          <div className=\"flex items-center space-x-2\">\n            <p className=\"text-sm font-medium\">Registros por p√°gina</p>\n            <Select\n              value={`${pageSize}`}\n              onValueChange={(value) => {\n                onPageSizeChange(Number(value));\n              }}\n            >\n              <SelectTrigger\n                className=\"h-8 w-[70px]\"\n                data-test-id=\"cursor-page-size-select\"\n              >\n                <SelectValue placeholder={pageSize} />\n              </SelectTrigger>\n              <SelectContent side=\"top\">\n                {(pageSizeOptions && pageSizeOptions.length > 0\n                  ? pageSizeOptions\n                  : [5, 10, 20, 30, 40]\n                ).map((size) => (\n                  <SelectItem key={size} value={`${size}`}>\n                    {size}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n        )}\n        <div className=\"flex items-center space-x-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => onNavigate(\"previous\")}\n            disabled={!pagination.hasPrevious}\n            className=\"flex items-center gap-2\"\n            data-test-id=\"cursor-previous-button\"\n          >\n            <ChevronLeft className=\"h-4 w-4\" />\n            Anterior\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => onNavigate(\"next\")}\n            disabled={!pagination.hasNext}\n            className=\"flex items-center gap-2\"\n            data-test-id=\"cursor-next-button\"\n          >\n            Siguiente\n            <ChevronRight className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/helisa/components/data-table/data-table-cursor-pagination.tsx"
    },
    {
      "path": "registry/helisa/components/data-table/data-table-checks.tsx",
      "content": "import { Checkbox } from \"@/components/ui/checkbox\";\n\nimport { CheckedState } from \"@radix-ui/react-checkbox\";\nimport { Row } from \"@tanstack/react-table\";\n\n/**\n * Checkbox for selecting a row\n */\ntype CellCheckboxProps<T> = {\n  row: Row<T>;\n  isRowSelected?: (rows: T) => boolean;\n  onRowSelected?: (rows: T) => void;\n  onRowRemove?: (rows: T) => void;\n  disabled?: boolean;\n};\nexport const CellCheckbox = <T,>({\n  row,\n  isRowSelected,\n  onRowSelected,\n  onRowRemove,\n  disabled,\n}: CellCheckboxProps<T>) => {\n  const isSelected = isRowSelected\n    ? isRowSelected(row.original)\n    : row.getIsSelected();\n\n  return (\n    <Checkbox\n      checked={isSelected}\n      disabled={disabled}\n      onCheckedChange={(value) => {\n        row.toggleSelected(!!value);\n        if (onRowSelected && onRowRemove) {\n          if (!isSelected) {\n            onRowSelected(row.original);\n          } else {\n            onRowRemove(row.original);\n          }\n        }\n      }}\n      aria-label=\"Select row\"\n      data-test-id={`row-checkbox-${row.id}`}\n    />\n  );\n};\n\n/**\n * Header checkbox for selecting all rows\n */\ntype HeaderCheckboxProps<T> = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  table: any;\n  isRowsSelected?: () => CheckedState;\n  onRowsSelected?: (rows: T[]) => void;\n  onRowsRemove?: (rows: T[]) => void;\n  disabled?: boolean;\n};\n\nexport const HeaderCheckbox = <T,>({\n  table,\n  isRowsSelected,\n  onRowsSelected,\n  onRowsRemove,\n  disabled,\n}: HeaderCheckboxProps<T>) => {\n  const isAllSelected =\n    isRowsSelected !== undefined\n      ? isRowsSelected()\n      : table.getIsAllPageRowsSelected() ||\n        (table.getIsSomePageRowsSelected() && \"indeterminate\");\n\n  return (\n    <Checkbox\n      checked={isAllSelected}\n      disabled={disabled}\n      onCheckedChange={(value) => {\n        if (isRowsSelected === undefined) {\n          table.toggleAllPageRowsSelected(!!value);\n        }\n        if (onRowsSelected && onRowsRemove) {\n          if (!isAllSelected || isAllSelected === \"indeterminate\") {\n            onRowsSelected(\n              table.getRowModel().rows.map((row: Row<T>) => row.original),\n            );\n          } else {\n            onRowsRemove([]);\n          }\n        }\n      }}\n      aria-label=\"Select all\"\n      data-test-id=\"header-checkbox\"\n    />\n  );\n};\n",
      "type": "registry:component",
      "target": "components/helisa/components/data-table/data-table-checks.tsx"
    },
    {
      "path": "registry/helisa/components/data-table/data-table-column-header.tsx",
      "content": "import { Button } from \"@/components/ui/button\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nimport { Column } from \"@tanstack/react-table\";\r\nimport {\r\n  ArrowDownIcon,\r\n  ArrowDownUpIcon,\r\n  ArrowUpIcon,\r\n  EyeOffIcon,\r\n} from \"lucide-react\";\r\n\r\ninterface DataTableColumnHeaderProps<TData, TValue>\r\n  extends React.HTMLAttributes<HTMLDivElement> {\r\n  column: Column<TData, TValue>;\r\n  title: string;\r\n}\r\n\r\nexport function DataTableColumnHeader<TData, TValue>({\r\n  column,\r\n  title,\r\n  className,\r\n}: DataTableColumnHeaderProps<TData, TValue>) {\r\n  if (!column.getCanSort()) {\r\n    return <div className={cn(className)}>{title}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className={cn(\"flex items-center space-x-2\", className)}>\r\n      <DropdownMenu>\r\n        <DropdownMenuTrigger asChild>\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            className=\"-ml-3 h-8 data-[state=open]:bg-accent\"\r\n          >\r\n            <span>{title}</span>\r\n            {column.getIsSorted() === \"desc\" ? (\r\n              <ArrowDownIcon className=\"ml-2 h-4 w-4\" />\r\n            ) : column.getIsSorted() === \"asc\" ? (\r\n              <ArrowUpIcon className=\"ml-2 h-4 w-4\" />\r\n            ) : (\r\n              <ArrowDownUpIcon className=\"ml-2 h-4 w-4\" />\r\n            )}\r\n          </Button>\r\n        </DropdownMenuTrigger>\r\n        <DropdownMenuContent align=\"start\">\r\n          <DropdownMenuItem onClick={() => column.toggleSorting(false)}>\r\n            <ArrowUpIcon className=\"mr-2 h-3.5 w-3.5 text-muted-foreground/70\" />\r\n            Asc\r\n          </DropdownMenuItem>\r\n          <DropdownMenuItem onClick={() => column.toggleSorting(true)}>\r\n            <ArrowDownIcon className=\"mr-2 h-3.5 w-3.5 text-muted-foreground/70\" />\r\n            Desc\r\n          </DropdownMenuItem>\r\n          <DropdownMenuSeparator />\r\n          <DropdownMenuItem onClick={() => column.toggleVisibility(false)}>\r\n            <EyeOffIcon className=\"mr-2 h-3.5 w-3.5 text-muted-foreground/70\" />\r\n            Hide\r\n          </DropdownMenuItem>\r\n        </DropdownMenuContent>\r\n      </DropdownMenu>\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components/helisa/components/data-table/data-table-column-header.tsx"
    }
  ],
  "type": "registry:component"
}
